;; -*- mode:lisp; syntax:common-lisp; package:ccl -*-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; system:	U I - L I B;;;; file: 	rsrc.lisp;; author: 	Adam Alpern (ala@neural.hampshire.edu);; created: 	03/07/95;;;; Copyright © 1995 Adam Alpern;;;; Please send comments, improvements, or whatever to ala@neural.hampshire.edu.;; If you redistribute this file, please keep this header intact, and;; please send me any changes. I would like to know if you use this utility,;; and if you find it useful.;;;; Revision History;; ----------------;; 01/18/96	- added load-pixpat;; 08/02/95	- added load-and-detach;; 03/07/95	- File created.;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;(require :resources)(in-package :ccl)(export '(load-color-icon load-and-detach))(defun load-color-icon (id)  "Load a color icon with the id number id from rsrc-file, whichshould be a full pathname to the file. SHould be called within awith-open-resource-file form if the icon is not in the MCL image."    (let ((icon-hdl (#_getCicon id)))      (if (%null-ptr-p icon-hdl)        (error "no icon resource with id ~s." id)        icon-hdl)))(defun load-pixpat (id)  (let ((ppat-hdl (#_getPixPat id)))    (if (%null-ptr-p ppat-hdl)      (error "no ppat resource with id ~s." id)      ppat-hdl)))(defun load-and-detach (type id)  (let* ((res (#_get1resource type id)))    (#_loadresource res)    (#_ResError)    (#_detachresource res)    (#_HNoPurge res)    res))  